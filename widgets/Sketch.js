// COPYRIGHT Â© 2018 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/4.6/esri/copyright.txt for details.

define(["require","exports","../core/tsSupport/declareExtendsHelper","../core/tsSupport/decorateHelper","../core/accessorSupport/decorators","./Widget","./Sketch/SketchViewModel","./support/widget"],function(t,e,o,n,i,r,c,l){var a={base:"esri-sketch esri-widget",buttonContainer:"esri-sketch__button-container",button:"esri-sketch__button",selectedButton:"esri-sketch__button-selected",pointIcon:"esri-icon-map-pin",polygonIcon:"esri-icon-polygon",polylineIcon:"esri-icon-polyline",multipointIcon:"esri-icon-handle-vertical",circleIcon:"esri-icon-radio-unchecked",rectangleIcon:"esri-icon-checkbox-unchecked",panIcon:"esri-icon-pan",navIcon:"esri-icon-navigation",resetIcon:"esri-icon-trash"};return function(t){function e(e){var o=t.call(this)||this;return o.activeTool=null,o.draw=null,o.graphic=null,o.layer=null,o.view=null,o.viewModel=new c,o}return o(e,t),e.prototype.complete=function(){},e.prototype.create=function(){},e.prototype.reset=function(){this.activeTool=null,this.viewModel.reset()},e.prototype.update=function(){},e.prototype.render=function(){return console.log("render",this.activeTool),l.tsx("div",{class:a.base},l.tsx("div",{class:a.buttonContainer},this._renderDrawButtons()),l.tsx("div",{class:a.buttonContainer},this._renderMenuButtons()))},e.prototype._renderDrawButtons=function(){return[this._renderPointButton(),this._renderPolylineButton(),this._renderPolygonButton(),this._renderRectangleButton(),this._renderCircleButton()]},e.prototype._renderPointButton=function(){var t="point"===this.activeTool?l.join(a.button,a.pointIcon,a.selectedButton):l.join(a.button,a.pointIcon);return l.tsx("button",{"aria-label":"Draw Point",bind:this,class:t,onclick:this._activateCreatePoint,title:"Draw Point"})},e.prototype._renderPolygonButton=function(){var t="polygon"===this.activeTool?l.join(a.button,a.polygonIcon,a.selectedButton):l.join(a.button,a.polygonIcon);return l.tsx("button",{"aria-label":"Draw Polygon",bind:this,class:t,onclick:this._activateCreatePolygon,title:"Draw Polygon"})},e.prototype._renderPolylineButton=function(){var t="polyline"===this.activeTool?l.join(a.button,a.polylineIcon,a.selectedButton):l.join(a.button,a.polylineIcon);return l.tsx("button",{"aria-label":"Draw Polyline",bind:this,class:t,onclick:this._activateCreatePolyline,title:"Draw Polyline"})},e.prototype._renderCircleButton=function(){var t="circle"===this.activeTool?l.join(a.button,a.circleIcon,a.selectedButton):l.join(a.button,a.circleIcon);return l.tsx("button",{bind:this,class:t,onclick:this._activateCreateCircle,title:"Draw Circle"})},e.prototype._renderRectangleButton=function(){var t="rectangle"===this.activeTool?l.join(a.button,a.rectangleIcon,a.selectedButton):l.join(a.button,a.rectangleIcon);return l.tsx("button",{"aria-label":"Draw Rectangle",bind:this,class:t,onclick:this._activateCreateRectangle,title:"Draw Rectangle"})},e.prototype._renderMenuButtons=function(){return[this._renderResetButton()]},e.prototype._renderResetButton=function(){return l.tsx("button",{"aria-label":"Reset",bind:this,class:l.join(a.button,a.resetIcon),onclick:this.reset,title:"Reset"})},e.prototype._activateCreatePoint=function(){this.activeTool="point",this.viewModel.create("point"),this.view.focus()},e.prototype._activateCreatePolygon=function(){this.activeTool="polygon",this.viewModel.create("polygon"),this.view.focus()},e.prototype._activateCreatePolyline=function(){this.activeTool="polyline",this.viewModel.create("polyline"),this.view.focus()},e.prototype._activateCreateCircle=function(){this.activeTool="circle",this.viewModel.create("circle"),this.view.focus()},e.prototype._activateCreateRectangle=function(){this.activeTool="rectangle",this.viewModel.create("rectangle"),this.view.focus()},n([i.aliasOf("viewModel.draw"),l.renderable()],e.prototype,"draw",void 0),n([i.aliasOf("viewModel.graphic")],e.prototype,"graphic",void 0),n([i.aliasOf("viewModel.layer"),l.renderable()],e.prototype,"layer",void 0),n([i.aliasOf("viewModel.view"),l.renderable()],e.prototype,"view",void 0),n([l.vmEvent("draw-start"),l.vmEvent("draw-cancel"),l.vmEvent("draw-complete"),l.vmEvent("update-start"),l.vmEvent("update-cancel"),l.vmEvent("update-complete"),l.vmEvent("reset"),i.property({type:c})],e.prototype,"viewModel",void 0),n([i.aliasOf("viewModel.complete")],e.prototype,"complete",null),n([i.aliasOf("viewModel.create")],e.prototype,"create",null),n([i.aliasOf("viewModel.update")],e.prototype,"update",null),e=n([i.subclass("esri.widgets.Sketch")],e)}(i.declared(r))});