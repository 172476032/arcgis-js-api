// COPYRIGHT Â© 2018 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/4.6/esri/copyright.txt for details.

define(["require","exports","./enums","./MaterialInfoUtils","./shaders/fillShaderSnippets","./shaders/iconShaderSnippets","./shaders/lineShaderSnippets","./shaders/textShaderSnippets","../../../webgl/ShaderVariations"],function(V,_,I,e,S,i,T,E,a){return function(){function V(){this._programRep=new Map,this.isInitialize=!1}return V.prototype.initialize=function(V){if(!this.isInitialize){var _=new a("text",["textVS","textFS"],[],E,V);_.addDefine("ID","ID",[!0,!0],"ID"),_.addDefine("HIGHLIGHT","HIGHLIGHT",[!1,!1],"HIGHLIGHT"),_.addDefine("SDF","SDF",[!1,!1],"SDF"),_.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE"),_.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS"),_.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS"),_.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE"),_.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR"),_.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION"),_.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY"),_.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY"),_.addDefine("PATTERN","PATTERN",[!1,!1],"PATTERN"),_.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");var I=new a("icon",["iconVS","iconFS"],[],i,V);I.addDefine("ID","ID",[!0,!0],"ID"),I.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT"),I.addDefine("SDF","SDF",[!0,!0],"SDF"),I.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE"),I.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS"),I.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS"),I.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE"),I.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR"),I.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION"),I.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY"),I.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY"),I.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN"),I.addDefine("HEATMAP","HEATMAP",[!0,!0],"HEATMAP");var e=new a("fill",["fillVS","fillFS"],[],S,V);e.addDefine("ID","ID",[!0,!0],"ID"),e.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT"),e.addDefine("SDF","SDF",[!1,!1],"SDF"),e.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!1,!1],"VV_SIZE_MIN_MAX_VALUE"),e.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!1,!1],"VV_SIZE_SCALE_STOPS"),e.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!1,!1],"VV_SIZE_FIELD_STOPS"),e.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!1,!1],"VV_SIZE_UNIT_VALUE"),e.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR"),e.addDefine("VV_ROTATION","VV_ROTATION",[!1,!1],"VV_ROTATION"),e.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY"),e.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY"),e.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN"),e.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");var d=new a("line",["lineVS","lineFS"],[],T,V);d.addDefine("ID","ID",[!0,!0],"ID"),d.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT"),d.addDefine("SDF","SDF",[!0,!0],"SDF"),d.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE"),d.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS"),d.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS"),d.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE"),d.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR"),d.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION"),d.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY"),d.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY"),d.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN"),d.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP"),this._textShaderVariations=_,this._fillShaderVariations=e,this._iconShaderVariations=I,this._lineShaderVariations=d,this.isInitialize=!0}},V.prototype.getProgram=function(V,_,S){if(V|=_===I.WGLDrawPhase.HITTEST?4:0,V|=_===I.WGLDrawPhase.HIGHLIGHT?8:0,this._programRep[V])return this._programRep[V];if(!this._iconShaderVariations||!this._fillShaderVariations||!this._lineShaderVariations)return null;var i,T=e.getMaterialVariations(V);switch(T.geometryType){case I.WGLGeometryType.MARKER:i=this._iconShaderVariations.getProgram(T.variations,null,null,S);break;case I.WGLGeometryType.TEXT:i=this._textShaderVariations.getProgram(T.variations,null,null,S);break;case I.WGLGeometryType.FILL:i=this._fillShaderVariations.getProgram(T.variations,null,null,S);break;case I.WGLGeometryType.LINE:i=this._lineShaderVariations.getProgram(T.variations,null,null,S)}return i&&(this._programRep[V]=i),i},V}()});